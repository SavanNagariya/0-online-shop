<!DOCTYPE html>
<html lang="en">
    <%- include('../shared/head.ejs',{title:'Online Shop | Shopping Cart'}) %> 
<body>
    <%- include('../shared/header.ejs') %> 
    <main>
        <h2 class="heading2">Shopping Cart</h2>
        <div>
            <ul class="cart-items">
                <% for (const item of locals.cart.items) { %>
                    <li>
                        <img src="/images/assent/<%= item.product.image %>" alt="" >
                        <article>
                            <h3><%= item.product.title %></h3>
                            <p>
                                ₹ <%= item.totalPrice.toFixed(2) %> <span>(₹<%= item.product.price.toFixed(2) %>)</span>
                            </p>
                            <div>
                                <input type="number" value="<%= item.quantity %>" required>
                                <button class="btn">update</button>   
                            </div>
                        </article>
                    </li>
                <%  } %> 
            </ul>
            <div>
                 <p>Total: ₹ <%= locals.cart.totalPrice.toFixed(2) %></p>
                <button class="btn">Buy Products</button>
            </div>
        </div>
    </main>
</body>
</html>
<style>
.cart-items{
    list-style: none;
}
.cart-items p span{
    font-style: italic;
    color: gray
}
.cart-items li{
    display: flex;
    border: solid 1px #00ce67;
    border-radius: 1rem;
    margin: 0.5rem;
    max-width: 40%;
}
.cart-items img{
    max-width: 8rem;
    max-height: 8rem;
    margin: 0.4rem;
}
.cart-items input{
    width: 3rem;
    height: 1.8rem;
    font-size: 1rem;
    border: solid 1px #00ce67;
    border-radius: 0.3rem;
}
</style>